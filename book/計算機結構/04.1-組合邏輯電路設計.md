### 第4章 數位電路設計

#### 4.1 組合邏輯電路設計

組合邏輯電路是數位邏輯設計中的基本類型之一，它的輸出僅依賴於當前輸入的數值，而不受任何過去輸入或歷史狀態的影響。與順序邏輯電路不同，組合邏輯電路不包含任何記憶元件（如觸發器或寄存器），因此其行為完全由當前的輸入信號決定。

設計組合邏輯電路的過程涉及確定如何將一組輸入信號轉換為所需的輸出信號，這通常依賴於布林代數、真值表以及簡化邏輯方程等工具。在這一章節中，我們將介紹組合邏輯電路的設計過程，並通過範例展示如何設計實際的組合邏輯電路。

#### 4.1.1 組合邏輯電路設計的基本步驟

設計一個組合邏輯電路通常需要經過以下幾個步驟：

1. **確定需求**：
   在設計電路之前，首先需要明確系統的功能要求。這通常來自於系統的需求規範或問題描述。例如，我們可能需要設計一個加法器，這樣就要確定需要處理的輸入數量和希望得到的輸出。

2. **定義輸入與輸出**：
   明確所有的輸入變數以及每組輸入對應的預期輸出。輸入通常是二進位數字，且會以邏輯變數表示。根據需求，設計者需要決定如何將這些輸入映射到具體的輸出。

3. **建立真值表**：
   真值表是描述組合邏輯電路的基本工具，它列出了所有可能的輸入組合及其對應的輸出值。真值表中每一行代表一種可能的輸入組合，對應的輸出則表示該輸入條件下系統的行為。

   例如，如果我們設計的是一個兩位加法器，則有兩個輸入（A和B），真值表將列出A和B所有可能的二進位組合以及加法的結果。

4. **從真值表推導邏輯方程**：
   真值表中可以提取出所需的邏輯關係。通過觀察每行的輸出，可以利用布林代數推導出對應的邏輯方程。這些方程可以進一步轉換為邏輯閘的組合。

5. **簡化邏輯方程**：
   一旦得到了邏輯方程，就可以使用布林代數的簡化規則來縮減方程的複雜度。常見的簡化方法包括使用卡諾圖（K-map）或代數法則來消除冗餘項。

   - **卡諾圖**：這是一種圖形化的布林代數簡化方法，可以幫助設計者直觀地識別出能夠簡化的部分。卡諾圖將真值表中的所有輸入組合排列成一個矩陣，並標出每個可能輸出的值。通過組合相鄰的1（對於真值為1的情況）來簡化邏輯表達式。

   - **代數法則**：使用布林代數中的結合律、交換律、分配律等基本法則來簡化邏輯方程。

6. **選擇邏輯閘並實現電路**：
   一旦獲得了簡化的邏輯方程，接下來的步驟是將這些邏輯方程轉換為邏輯閘電路。每個邏輯操作（如AND、OR、NOT）都可以通過相應的邏輯閘來實現。設計者可以選擇適合的邏輯閘來構建電路，並確保所有的輸入和輸出端口都正確連接。

7. **驗證設計**：
   設計完成後，需要對電路進行驗證，確保它能夠實現預期的功能。這可以通過模擬來完成，或者如果有實體硬體，則可以通過實際測試來驗證。驗證的目的是確保設計正確無誤，並且滿足所有規範。

#### 4.1.2 組合邏輯電路的基本組件

組合邏輯電路通常由基本邏輯閘構成。以下是常見的基本邏輯閘：

1. **AND閘**：
   AND閘的輸出僅在所有輸入都為1時才為1，否則為0。它的邏輯表達式為：
   \[
   Y = A \cdot B
   \]
   其中，A和B是輸入，Y是輸出。AND閘可以實現多個條件的同時成立。

2. **OR閘**：
   OR閘的輸出只要有任何一個輸入為1，輸出就為1。它的邏輯表達式為：
   \[
   Y = A + B
   \]
   OR閘通常用於需要滿足任一條件的情況。

3. **NOT閘**：
   NOT閘對輸入進行反向操作。如果輸入為1，則輸出為0；如果輸入為0，則輸出為1。它的邏輯表達式為：
   \[
   Y = \overline{A}
   \]
   NOT閘常用來實現邏輯反轉。

4. **NAND閘**：
   NAND閘是AND閘的反向操作，它的輸出只有在所有輸入都為1時才為0，其他情況下輸出為1。它的邏輯表達式為：
   \[
   Y = \overline{A \cdot B}
   \]
   NAND閘常用於簡化設計，因為它是功能完整的邏輯閘（可以實現所有其他基本邏輯閘）。

5. **NOR閘**：
   NOR閘是OR閘的反向操作，它的輸出只有在所有輸入都為0時才為1，其他情況下輸出為0。它的邏輯表達式為：
   \[
   Y = \overline{A + B}
   \]
   NOR閘也同樣可以用來構建任意的邏輯電路。

#### 4.1.3 組合邏輯電路設計的範例

舉一個簡單的範例，設計一個2輸入的全加器。全加器的作用是將兩個二進位數字相加並且考慮進位。它的輸入是A、B（兩個數位），以及進位輸入C_in，輸出則是和S和進位C_out。

**步驟1：建立真值表**

| A | B | C_in | S | C_out |
|---|---|------|---|-------|
| 0 | 0 | 0    | 0 | 0     |
| 0 | 0 | 1    | 1 | 0     |
| 0 | 1 | 0    | 1 | 0     |
| 0 | 1 | 1    | 0 | 1     |
| 1 | 0 | 0    | 1 | 0     |
| 1 | 0 | 1    | 0 | 1     |
| 1 | 1 | 0    | 0 | 1     |
| 1 | 1 | 1    | 1 | 1     |

**步驟2：推導邏輯方程**

根據真值表，可以推導出S和C_out的邏輯方程：

- 和S的邏輯方程是：  
  \[
  S = A \oplus B \oplus C_{in}
  \]

- 進位C_out的邏輯方程是：  
  \[
  C_{out} = (A \cdot B) + (C_{in} \cdot (A \oplus B))
  \]

**步驟3：簡化邏輯方程**

利用布林代數簡化後，這些方程的實現可以用AND、OR、XOR閘來構建。

**步驟4：選擇邏輯閘並實現電路**

根據推導出的邏輯方程，選擇合適的邏輯閘進行實現。

#### 4.1.4 小結

組合邏輯電路設計是一個將數位信號轉換為期望輸出的過程，主要依賴真值表和布林代數的簡化。通過使用基本的邏輯閘，我們可以設計出複雜的數位電路，並且在很多電子系統中，這些電路被廣泛應用於數位計算、資料處理和信號處理等領域。在實際的設計中，如何簡化邏輯方程和選擇合適的邏輯閘是設計成功的關鍵。