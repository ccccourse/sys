### 4.1 組合邏輯電路設計

組合邏輯電路是一種輸出僅依賴於當前輸入的電路，而不依賴於過去的狀態。這些電路的行為由其邏輯功能所決定，並且沒有內部存儲元件。因此，組合邏輯電路的輸出是即時的，隨著輸入的變化而變化。常見的組合邏輯電路包括加法器、編碼器、解碼器、多工器等。

在設計組合邏輯電路時，我們通常會根據問題需求，設計並選擇適當的邏輯閘組合來實現期望的邏輯功能。

### 設計原理

組合邏輯電路的設計原理通常分為以下幾個步驟：

1. **問題分析**：首先要分析問題需求，確定輸入和輸出之間的關係。
2. **真值表**：根據問題的需求，建立一個真值表，列出所有可能的輸入組合及其對應的輸出。
3. **布林代數**：利用布林代數進行簡化，找出最簡單的邏輯表達式。
4. **邏輯閘選擇**：根據簡化後的布林表達式，選擇合適的邏輯閘（如 AND、OR、NOT）來實現電路設計。

### Verilog 程式碼：組合邏輯電路設計

以下是一個設計組合邏輯電路的例子：設計一個 4 位加法器，它接受兩個 4 位二進位數字作為輸入，並輸出它們的和。

#### 4 位加法器設計

```verilog
module FourBitAdder (
    input wire [3:0] A,     // 4位二進制數A
    input wire [3:0] B,     // 4位二進制數B
    output wire [3:0] SUM,  // 4位二進制和
    output wire CARRY_OUT   // 進位輸出
);

    // 宣告內部信號
    wire [3:0] carry;  // 進位信號

    // 全加器實現（每一位）
    FullAdder FA0 (
        .A(A[0]), 
        .B(B[0]), 
        .CIN(1'b0), 
        .SUM(SUM[0]), 
        .COUT(carry[0])
    );

    FullAdder FA1 (
        .A(A[1]), 
        .B(B[1]), 
        .CIN(carry[0]), 
        .SUM(SUM[1]), 
        .COUT(carry[1])
    );

    FullAdder FA2 (
        .A(A[2]), 
        .B(B[2]), 
        .CIN(carry[1]), 
        .SUM(SUM[2]), 
        .COUT(carry[2])
    );

    FullAdder FA3 (
        .A(A[3]), 
        .B(B[3]), 
        .CIN(carry[2]), 
        .SUM(SUM[3]), 
        .COUT(CARRY_OUT)
    );

endmodule

// 單位加法器：全加器
module FullAdder (
    input wire A,     // 輸入A
    input wire B,     // 輸入B
    input wire CIN,   // 進位輸入
    output wire SUM,  // 和
    output wire COUT  // 進位輸出
);

    assign SUM = A ^ B ^ CIN;      // 和是A、B、CIN的異或
    assign COUT = (A & B) | (B & CIN) | (A & CIN);  // 進位是根據A、B、CIN的與或運算得出的

endmodule
```

### 程式碼解釋：

1. **FourBitAdder 模組**：
    - 這個模組接受兩個 4 位二進制數字 `A` 和 `B` 作為輸入，並生成它們的和 `SUM` 和進位輸出 `CARRY_OUT`。
    - 我們使用了四個 `FullAdder` 模組來實現每一位的加法運算。每個 `FullAdder` 處理對應位的加法，並將進位傳遞給下一位的加法器。

2. **FullAdder 模組**：
    - `FullAdder` 是單個位的加法器，它有三個輸入：`A`、`B` 和進位輸入 `CIN`，以及兩個輸出：和 `SUM` 和進位 `COUT`。
    - 和 `SUM` 是通過將 `A`、`B` 和 `CIN` 進行異或運算得到的。
    - 進位 `COUT` 由三個條件組合來決定：`A` 和 `B` 的與運算、`B` 和 `CIN` 的與運算、以及 `A` 和 `CIN` 的與運算。

3. **加法器結構**：
    - 這個加法器由多個全加器組成，每個全加器處理一位二進位數字的加法，並將進位傳遞給下一個加法器。
    - 這種結構可實現多位數字的加法，並且可以擴展到任意位數的加法器。

### 設計意義與原理

組合邏輯電路設計的核心是確定如何通過邏輯閘來處理輸入信號，並生成期望的輸出。這些電路在數位設計中非常重要，因為它們能夠高效地執行基礎的邏輯運算，如加法、乘法、編碼、解碼等。

在本例中，我們設計了一個 4 位加法器，通過多個 `FullAdder` 模組來實現每位的加法。這是一種典型的組合邏輯電路設計，它不依賴於任何記憶元件，而是根據輸入信號的即時變化來計算結果。

這樣的設計方式展示了如何使用布林代數來表示邏輯運算，並將其轉化為電路結構。在實際應用中，這類加法器設計通常是微處理器、計算機系統及其他數位設備中的基本組件。

### 結論

組合邏輯電路設計是數位設計中的基礎，它涉及到如何利用基本的邏輯閘來實現複雜的邏輯功能。通過對加法器等基本電路的設計，我們可以理解如何將數位邏輯原則應用於實際電路中，並為進一步的數位系統設計打下基礎。